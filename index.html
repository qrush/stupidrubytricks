<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
	"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">

<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
  <title>stupid ruby tricks</title>

  <meta name="viewport" content="width=device-width"/>

  <link rel="stylesheet" href="./css/reset.css" type="text/css"/>
  <link rel="stylesheet" href="./css/showoff.css" type="text/css"/>

  <script type="text/javascript" src="./js/jquery-1.4.2.min.js"></script>
  <script type="text/javascript" src="./js/jquery.cycle.all.js"></script>
	<script type="text/javascript" src="./js/jquery-print.js"></script>
  <script type="text/javascript" src="./js/jquery.batchImageLoad.js"></script>

  <script type="text/javascript" src="./js/jquery.doubletap-0.1.js"></script>

  <script type="text/javascript" src="./js/fg.menu.js"></script>
  <script type="text/javascript" src="./js/showoff.js"></script>
  <script type="text/javascript" src="./js/jTypeWriter.js"> </script>
  <script type="text/javascript" src="./js/sh_main.min.js"></script>
  <script type="text/javascript" src="./js/core.js"></script>
  <script type="text/javascript" src="./js/showoffcore.js"></script>
  <script type="text/javascript" src="./js/coffee-script.js"></script>

  <link type="text/css" href="./css/fg.menu.css" media="screen" rel="stylesheet" />
  <link type="text/css" href="./css/theme/ui.all.css" media="screen" rel="stylesheet" />
  <link type="text/css" href="./css/sh_style.css" rel="stylesheet" >

  

  

  <script type="text/javascript">
  $(function(){
      setupPreso(false, './');
  });
  </script>

</head>

<body>

<a tabindex="0" href="#search-engines" class="fg-button fg-button-icon-right ui-widget ui-state-default ui-corner-all" id="navmenu"><span class="ui-icon ui-icon-triangle-1-s"></span>slides</a>
<div id="navigation" class="hidden"></div>

<div id="help">
  <table>
    <tr><td class="key">z, ?</td><td>toggle help (this)</td></tr>
    <tr><td class="key">space, &rarr;</td><td>next slide</td></tr>
    <tr><td class="key">shift-space, &larr;</td><td>previous slide</td></tr>
    <tr><td class="key">d</td><td>toggle debug mode</td></tr>
    <tr><td class="key">## &lt;ret&gt;</td><td>go to slide #</td></tr>
    <tr><td class="key">c, t</td><td>table of contents (vi)</td></tr>
    <tr><td class="key">f</td><td>toggle footer</td></tr>
    <tr><td class="key">r</td><td>reload slides</td></tr>
    <tr><td class="key">n</td><td>toggle notes</td></tr>
    <tr><td class="key">p</td><td>run preshow</td></tr>
  </table>
</div>

<div class="buttonNav">
  <input type="submit" onClick="prevStep();" value="prev"/>
  <input type="submit" onClick="nextStep();" value="next"/>
</div>

<div id="preso">loading presentation...</div>
<div id="footer">
  <span id="slideInfo"></span>
  <span id="debugInfo"></span>
  <span id="notesInfo"></span>
</div>

<div id="slides" class="offscreen" style="display:none;">
<div class="slide" data-transition="none"><div class="content" ref="start/start">
<h1>stupid ruby tricks</h1>

<h2>and some useful ones</h2>

<h3>Nick Quaranto <a href="http://twitter.com/qrush">@qrush</a></h3></div>
</div><div class="slide" data-transition="none"><div class="content commandline incremental" ref="tricks/tricks/1">
<h2><code>ruby -c</code>: Syntax checking</h2>

<pre><code><code class="command">$ echo "class Foo" | ruby -c</code>
<code class="result">  -:1: syntax error, unexpected $end

</code><code class="command">$ echo "class Foo; end" | ruby -c</code>
<code class="result">  Syntax OK
</code></code></pre></div>
</div><div class="slide" data-transition="none"><div class="content commandline incremental small" ref="tricks/tricks/2">
<h2><code>ruby -w</code>: Indent checking (1.9+)</h2>

<pre><code><code class="command">$ cat bad.rb</code>
<code class="result">class Foo
  def bar
    if false
      puts "LOL"
  end
end

</code><code class="command">$ ruby -w bad.rb</code>
<code class="result">bad.rb:5: warning: mismatched indentations at 'end' with 'if' at 3
bad.rb:6: warning: mismatched indentations at 'end' with 'def' at 2
bad.rb:6: syntax error, unexpected $end, expecting keyword_end
</code></code></pre></div>
</div><div class="slide" data-transition="none"><div class="content commandline incremental" ref="tricks/tricks/3">
<h2><code>ruby -p, -e, -i</code></h2>

<pre><code><code class="command">$ echo matz | ruby -p -e '$_.tr! "a-z", "A-Z"'</code>
<code class="result">MATZ
</code><code class="command">$ echo matz &gt; /tmp/junk</code>
<code class="command">$ cat /tmp/junk</code>
<code class="result">matz
</code><code class="command">$ ruby -p -i.bak -e '$_.upcase!' /tmp/junk</code>
<code class="command">$ cat /tmp/junk</code>
<code class="result">MATZ
</code><code class="command">$ cat /tmp/junk.bak</code>
<code class="result">matz
</code></code></pre></div>
</div><div class="slide" data-transition="none"><div class="content" ref="tricks/tricks/4">
<h2>underscores in numbers</h2>

<pre class="sh_ruby"><code>1_000.times do
  puts "ROFL!"
end

(1..300_000_000).each do |n|
  puts "LMAO!"
end</code></pre></div>
</div><div class="slide" data-transition="none"><div class="content commandline incremental" ref="tricks/tricks/5">
<h2>underscore in <code>irb</code></h2>

<pre><code><code class="command"># %w(a b c).map(&amp;:succ)</code>
<code class="result">["b", "c", "d"]

</code><code class="command"># _</code>
<code class="result">["b", "c", "d"]

</code><code class="command"># letters = _</code>
<code class="result">["b", "c", "d"]
</code></code></pre></div>
</div><div class="slide" data-transition="none"><div class="content commandline incremental" ref="tricks/tricks/6">
<h2>string concatenation</h2>

<pre><code><code class="command"># "ab" + "cd"</code>
<code class="result">"abcd"

</code><code class="command"># "ab" "cd"</code>
<code class="result">"abcd"
</code></code></pre></div>
</div><div class="slide" data-transition="none"><div class="content incremental" ref="tricks/tricks/7">
<h2>string interpolation, normal</h2>

<pre class="sh_ruby"><code>a = 2
b = "1#{a}3"
p b</code></pre>

<ul>
<li><code>123</code></li>
</ul>
</div>
</div><div class="slide" data-transition="none"><div class="content incremental" ref="tricks/tricks/8">
<h2>string interpolation, also normal</h2>

<pre class="sh_ruby"><code>@a = 5
b = "4#{@a}6"
p b</code></pre>

<ul>
<li><code>456</code></li>
</ul>
</div>
</div><div class="slide" data-transition="none"><div class="content incremental small" ref="tricks/tricks/9">
<h2>string interpolation, WTF?</h2>

<pre class="sh_ruby"><code>@a = 8
b = "#@a"
c = "7#@a"
d = "7#@a9"
p b
p c
p d</code></pre>

<ul>
<li><code>8</code></li>
<li><code>78</code></li>
<li><code>7</code></li>
</ul>
</div>
</div><div class="slide" data-transition="none"><div class="content incremental" ref="tricks/tricks/10">
<h2>interpolate into symbols</h2>

<pre class="sh_ruby"><code>p :this_is_a_symbol.object_id

klass = "symbol"
p :"this_is_a_#{klass}".object_id</code></pre>

<ul>
<li><code>333788</code></li>
<li><code>333788</code></li>
</ul>
</div>
</div><div class="slide" data-transition="none"><div class="content incremental" ref="tricks/tricks/11">
<h2>string delimiters</h2>

<pre class="sh_ruby"><code>"String!"
'String!'
%{String!}
%|String!|
%`String!`
%;String!;</code></pre></div>
</div><div class="slide" data-transition="none"><div class="content commandline" ref="tricks/tricks/12">
<h2><code>String#*</code></h2>

<pre><code><code class="command"># "*" * 80</code>
<code class="result">********************************************************************************
</code></code></pre></div>
</div><div class="slide" data-transition="none"><div class="content commandline incremental" ref="tricks/tricks/13">
<h2><code>DATA</code> and <code>__END__</code></h2>

<pre><code><code class="command">$ cat data.rb</code>
<code class="result">p YAML.load(DATA.read)[ARGV.first]
__END__
foo: "Bar"
baz: "LOL!"

</code><code class="command">$ ruby -ryaml data.rb</code>
<code class="result">nil

</code><code class="command">$ ruby -ryaml data.rb foo</code>
<code class="result">"Bar"

</code><code class="command">$ ruby -ryaml data.rb bar</code>
<code class="result">"LOL!"
</code></code></pre></div>
</div><div class="slide" data-transition="none"><div class="content commandline incremental" ref="tricks/tricks/14">
<h2><code>redo</code></h2>

<pre><code><code class="command"># s = ''</code>
<code class="result">""

</code><code class="command"># 1.upto(5) { |i| s &lt;&lt; i.to_s; redo if s.size &lt; 3 }</code>
<code class="result">1

</code><code class="command"># s</code>
<code class="result">"1112345"
</code></code></pre></div>
</div><div class="slide" data-transition="none"><div class="content" ref="tricks/tricks/15">
<h2>pulling elements out of arrays</h2>

<pre><code># args = [1, 2, 3]
# first, *rest = args
# first
1

# rest
[2, 3]
</code></pre></div>
</div><div class="slide" data-transition="none"><div class="content commandline incremental" ref="tricks/tricks/16">
<h2>splat arguments, anywhere (1.9+)</h2>

<pre><code><code class="command"># def foo(*args); p args; end</code>
<code class="command"># foo(1, 2, 3, 4)</code>
<code class="result">[1, 2, 3, 4]

</code><code class="command"># def bar(first, *args); p first; p args; end</code>
<code class="command"># bar(1, 2, 3, 4)</code>
<code class="result">1
[2, 3, 4]

</code><code class="command"># def baz(first, *args, last); p first; p args; p last; end</code>
<code class="command"># baz(1, 2, 3, 4)</code>
<code class="result">1
[2, 3]
4
</code></code></pre></div>
</div><div class="slide" data-transition="none"><div class="content incremental small" ref="tricks/tricks/17">
<h2>destructuring arrays</h2>

<pre class="sh_ruby"><code>def touch_down
  yield [3, 7]
  puts "touchdown!"
end

touch_down do |(first_down, second_down)|
  puts "#{first_down} yards on the run"
  puts "#{second_down} yards passed"
end</code></pre>

<ul>
<li><code>3 yards on the run</code></li>
<li><code>7 yards passed</code></li>
<li><code>touchdown!</code></li>
</ul>
</div>
</div><div class="slide" data-transition="none"><div class="content commandline incremental" ref="tricks/tricks/18">
<h2><code>Enumerable#any? / #all?</code></h2>

<pre><code><code class="command"># [false, false, true].any?</code>
<code class="result">true

</code><code class="command"># [false, false, nil].any?</code>
<code class="result">false

</code><code class="command"># [true, true, true].all?</code>
<code class="result">true

</code><code class="command"># [true, true, false].all?</code>
<code class="result">false
</code></code></pre></div>
</div><div class="slide" data-transition="none"><div class="content commandline incremental small" ref="tricks/tricks/19">
<h2><code>Hash#new</code> with a block</h2>

<pre><code><code class="command"># smash = Hash.new { |hash, key| hash[key] = "a #{key} just got SMASHED!" }</code>
<code class="result">{}

</code><code class="command"># smash[:plum] = "cannot smash."</code>
<code class="result">{:plum=&gt;"cannot smash."}

</code><code class="command"># smash[:watermelon]</code>
<code class="result">{:plum=&gt;"cannot smash.", :watermelon=&gt;"a watermelon just got SMASHED!"}
</code></code></pre></div>
</div><div class="slide" data-transition="none"><div class="content commandline incremental" ref="tricks/tricks/20">
<h2><code>Hash::[]</code></h2>

<pre><code><code class="command"># Hash[:apples, 3, :bananas, 2]</code>
<code class="result">{:apples=&gt;3, :bananas=&gt;2}

</code><code class="command"># Hash[[:apples, 3, :bananas, 2] * 300_000]</code>
<code class="result">SystemStackError: stack level too deep
</code></code></pre>

<p><a href="http://redmine.ruby-lang.org/issues/5719">Ruby bug</a> warning!</p></div>
</div><div class="slide" data-transition="none"><div class="content commandline incremental" ref="tricks/tricks/21">
<h2><code>j</code> and <code>jj</code> (1.9+)</h2>

<pre><code><code class="command"># require 'json'</code>
<code class="command"># h = {a: 1, b:2}</code>
<code class="result">{:a=&gt;1, :b=&gt;2}

</code><code class="command"># j(h)</code>
<code class="result">{"a":1,"b":2}

</code><code class="command"># jj(h)</code>
<code class="result">{
  "a": 1,
  "b": 2
}
</code></code></pre></div>
</div><div class="slide" data-transition="none"><div class="content small" ref="end/end">
<h1>thanks!</h1>

<ul>
<li><a href="http://robots.thoughtbot.com/post/162185884/stupid-ruby-tricks">stupid ruby tricks</a></li>
<li><a href="http://www.rubyinside.com/21-ruby-tricks-902.html">21 Ruby Tricks</a></li>
<li><a href="http://www.igvita.com/2011/02/03/new-ruby-19-features-tips-tricks/">New Ruby 1.9 Features, Tips &amp; Tricks</a></li>
<li><a href="http://www.zenspider.com/Languages/Ruby/QuickRef.html">Ruby QuickRef</a></li>
<li><a href="http://pragdave.blogs.pragprog.com/pragdave/2008/12/ruby-19-can-check-your-indentation.html">Ruby 1.9 can check your identation</a></li>
<li><a href="http://rubyquicktips.com/">Ruby Quicktips</a></li>
<li><code>man ruby</code></li>
</ul>
</div>
</div></div>

</body>
</html>
